{"ast":null,"code":"import * as d3 from 'd3';\nimport * as i0 from \"@angular/core\";\nexport let CircularHeatmapComponent = /*#__PURE__*/(() => {\n  class CircularHeatmapComponent {\n    constructor() {}\n\n    ngOnInit() {\n      var data = [{\n        \"Day\": \"2016-10-22\",\n        \"Time\": \"0:00:00\",\n        \"Average\": 0.969891134\n      }, {\n        \"Day\": \"2016-10-22\",\n        \"Time\": \"1:00:00\",\n        \"Average\": 0.916218024\n      }, {\n        \"Day\": \"2016-10-22\",\n        \"Time\": \"2:00:00\",\n        \"Average\": 0.933776322\n      }, {\n        \"Day\": \"2016-10-22\",\n        \"Time\": \"3:00:00\",\n        \"Average\": 0.935375822\n      }, {\n        \"Day\": \"2016-10-22\",\n        \"Time\": \"4:00:00\",\n        \"Average\": 0.851685935\n      }, {\n        \"Day\": \"2016-10-22\",\n        \"Time\": \"5:00:00\",\n        \"Average\": 0.708158118\n      }, {\n        \"Day\": \"2016-10-22\",\n        \"Time\": \"6:00:00\",\n        \"Average\": 0.79328731\n      }, {\n        \"Day\": \"2016-10-22\",\n        \"Time\": \"7:00:00\",\n        \"Average\": 0.988681914\n      }, {\n        \"Day\": \"2016-10-22\",\n        \"Time\": \"8:00:00\",\n        \"Average\": 0.653469207\n      }, {\n        \"Day\": \"2016-10-22\",\n        \"Time\": \"9:00:00\",\n        \"Average\": 0.171116158\n      }, {\n        \"Day\": \"2016-10-22\",\n        \"Time\": \"10:00:00\",\n        \"Average\": 0.185425746\n      }, {\n        \"Day\": \"2016-10-22\",\n        \"Time\": \"11:00:00\",\n        \"Average\": 0.724184058\n      }, {\n        \"Day\": \"2016-10-22\",\n        \"Time\": \"12:00:00\",\n        \"Average\": 0.281778782\n      }, {\n        \"Day\": \"2016-10-22\",\n        \"Time\": \"13:00:00\",\n        \"Average\": 0.810961995\n      }, {\n        \"Day\": \"2016-10-22\",\n        \"Time\": \"14:00:00\",\n        \"Average\": 0.182562288\n      }, {\n        \"Day\": \"2016-10-22\",\n        \"Time\": \"15:00:00\",\n        \"Average\": 0.306659218\n      }, {\n        \"Day\": \"2016-10-22\",\n        \"Time\": \"16:00:00\",\n        \"Average\": 0.262867786\n      }, {\n        \"Day\": \"2016-10-22\",\n        \"Time\": \"17:00:00\",\n        \"Average\": 0.651224997\n      }, {\n        \"Day\": \"2016-10-22\",\n        \"Time\": \"18:00:00\",\n        \"Average\": 0.053924618\n      }, {\n        \"Day\": \"2016-10-22\",\n        \"Time\": \"19:00:00\",\n        \"Average\": 0.804157436\n      }, {\n        \"Day\": \"2016-10-22\",\n        \"Time\": \"20:00:00\",\n        \"Average\": 0.996288161\n      }, {\n        \"Day\": \"2016-10-22\",\n        \"Time\": \"21:00:00\",\n        \"Average\": 0.999157842\n      }, {\n        \"Day\": \"2016-10-22\",\n        \"Time\": \"22:00:00\",\n        \"Average\": 0.999360726\n      }, {\n        \"Day\": \"2016-10-22\",\n        \"Time\": \"23:00:00\",\n        \"Average\": 0.999424465\n      }, {\n        \"Day\": \"2016-10-23\",\n        \"Time\": \"0:00:00\",\n        \"Average\": 0.999536399\n      }, {\n        \"Day\": \"2016-10-23\",\n        \"Time\": \"1:00:00\",\n        \"Average\": 0.999532678\n      }, {\n        \"Day\": \"2016-10-23\",\n        \"Time\": \"2:00:00\",\n        \"Average\": 0.881898221\n      }, {\n        \"Day\": \"2016-10-23\",\n        \"Time\": \"3:00:00\",\n        \"Average\": 0.932024524\n      }, {\n        \"Day\": \"2016-10-23\",\n        \"Time\": \"4:00:00\",\n        \"Average\": 0.821856126\n      }, {\n        \"Day\": \"2016-10-23\",\n        \"Time\": \"5:00:00\",\n        \"Average\": 0.69971704\n      }, {\n        \"Day\": \"2016-10-23\",\n        \"Time\": \"6:00:00\",\n        \"Average\": 0.584832441\n      }, {\n        \"Day\": \"2016-10-23\",\n        \"Time\": \"7:00:00\",\n        \"Average\": 0.791939352\n      }, {\n        \"Day\": \"2016-10-23\",\n        \"Time\": \"8:00:00\",\n        \"Average\": 0.191602097\n      }, {\n        \"Day\": \"2016-10-23\",\n        \"Time\": \"9:00:00\",\n        \"Average\": 0.443749611\n      }, {\n        \"Day\": \"2016-10-23\",\n        \"Time\": \"10:00:00\",\n        \"Average\": 0.112807988\n      }, {\n        \"Day\": \"2016-10-23\",\n        \"Time\": \"11:00:00\",\n        \"Average\": 0.862970288\n      }, {\n        \"Day\": \"2016-10-23\",\n        \"Time\": \"12:00:00\",\n        \"Average\": -0.159894786\n      }, {\n        \"Day\": \"2016-10-23\",\n        \"Time\": \"13:00:00\",\n        \"Average\": 0.27077585\n      }, {\n        \"Day\": \"2016-10-23\",\n        \"Time\": \"14:00:00\",\n        \"Average\": 0.41846599\n      }, {\n        \"Day\": \"2016-10-23\",\n        \"Time\": \"15:00:00\",\n        \"Average\": 0.245919838\n      }, {\n        \"Day\": \"2016-10-23\",\n        \"Time\": \"16:00:00\",\n        \"Average\": 0.639089128\n      }, {\n        \"Day\": \"2016-10-23\",\n        \"Time\": \"17:00:00\",\n        \"Average\": 0.908434064\n      }, {\n        \"Day\": \"2016-10-23\",\n        \"Time\": \"18:00:00\",\n        \"Average\": -0.308801718\n      }, {\n        \"Day\": \"2016-10-23\",\n        \"Time\": \"19:00:00\",\n        \"Average\": 0.638730315\n      }, {\n        \"Day\": \"2016-10-23\",\n        \"Time\": \"20:00:00\",\n        \"Average\": 0.99329318\n      }, {\n        \"Day\": \"2016-10-23\",\n        \"Time\": \"21:00:00\",\n        \"Average\": 0.999333149\n      }, {\n        \"Day\": \"2016-10-23\",\n        \"Time\": \"22:00:00\",\n        \"Average\": 0.999169182\n      }, {\n        \"Day\": \"2016-10-23\",\n        \"Time\": \"23:00:00\",\n        \"Average\": 0.999429383\n      }, {\n        \"Day\": \"2016-10-24\",\n        \"Time\": \"0:00:00\",\n        \"Average\": 0.999175267\n      }, {\n        \"Day\": \"2016-10-24\",\n        \"Time\": \"1:00:00\",\n        \"Average\": 0.998963684\n      }, {\n        \"Day\": \"2016-10-24\",\n        \"Time\": \"2:00:00\",\n        \"Average\": 0.999478702\n      }, {\n        \"Day\": \"2016-10-24\",\n        \"Time\": \"3:00:00\",\n        \"Average\": 0.960087267\n      }, {\n        \"Day\": \"2016-10-24\",\n        \"Time\": \"4:00:00\",\n        \"Average\": 0.949187905\n      }, {\n        \"Day\": \"2016-10-24\",\n        \"Time\": \"5:00:00\",\n        \"Average\": -0.339041285\n      }, {\n        \"Day\": \"2016-10-24\",\n        \"Time\": \"6:00:00\",\n        \"Average\": 0.295181291\n      }, {\n        \"Day\": \"2016-10-24\",\n        \"Time\": \"7:00:00\",\n        \"Average\": 0.128635277\n      }, {\n        \"Day\": \"2016-10-24\",\n        \"Time\": \"8:00:00\",\n        \"Average\": 0.982508364\n      }, {\n        \"Day\": \"2016-10-24\",\n        \"Time\": \"9:00:00\",\n        \"Average\": 0.977814752\n      }, {\n        \"Day\": \"2016-10-24\",\n        \"Time\": \"10:00:00\",\n        \"Average\": 0.809665585\n      }, {\n        \"Day\": \"2016-10-24\",\n        \"Time\": \"11:00:00\",\n        \"Average\": 0.648068162\n      }, {\n        \"Day\": \"2016-10-24\",\n        \"Time\": \"12:00:00\",\n        \"Average\": 0.812559532\n      }, {\n        \"Day\": \"2016-10-24\",\n        \"Time\": \"13:00:00\",\n        \"Average\": 0.954865661\n      }, {\n        \"Day\": \"2016-10-24\",\n        \"Time\": \"14:00:00\",\n        \"Average\": 0.8971414\n      }, {\n        \"Day\": \"2016-10-24\",\n        \"Time\": \"15:00:00\",\n        \"Average\": 0.808797442\n      }, {\n        \"Day\": \"2016-10-24\",\n        \"Time\": \"16:00:00\",\n        \"Average\": 0.399305729\n      }, {\n        \"Day\": \"2016-10-24\",\n        \"Time\": \"17:00:00\",\n        \"Average\": -0.896724755\n      }, {\n        \"Day\": \"2016-10-24\",\n        \"Time\": \"18:00:00\",\n        \"Average\": -0.530474392\n      }, {\n        \"Day\": \"2016-10-24\",\n        \"Time\": \"19:00:00\",\n        \"Average\": 0.825396025\n      }, {\n        \"Day\": \"2016-10-24\",\n        \"Time\": \"20:00:00\",\n        \"Average\": 0.999483386\n      }, {\n        \"Day\": \"2016-10-24\",\n        \"Time\": \"21:00:00\",\n        \"Average\": 0.998930358\n      }, {\n        \"Day\": \"2016-10-24\",\n        \"Time\": \"22:00:00\",\n        \"Average\": 0.998902723\n      }, {\n        \"Day\": \"2016-10-24\",\n        \"Time\": \"23:00:00\",\n        \"Average\": 0.998718033\n      }, {\n        \"Day\": \"2016-10-25\",\n        \"Time\": \"0:00:00\",\n        \"Average\": 0.34896482\n      }, {\n        \"Day\": \"2016-10-25\",\n        \"Time\": \"1:00:00\",\n        \"Average\": 0.996568297\n      }, {\n        \"Day\": \"2016-10-25\",\n        \"Time\": \"2:00:00\",\n        \"Average\": 0.894943299\n      }, {\n        \"Day\": \"2016-10-25\",\n        \"Time\": \"3:00:00\",\n        \"Average\": 0.63441929\n      }, {\n        \"Day\": \"2016-10-25\",\n        \"Time\": \"4:00:00\",\n        \"Average\": 0.773203792\n      }, {\n        \"Day\": \"2016-10-25\",\n        \"Time\": \"5:00:00\",\n        \"Average\": 0.674335006\n      }, {\n        \"Day\": \"2016-10-25\",\n        \"Time\": \"6:00:00\",\n        \"Average\": 0.799208912\n      }, {\n        \"Day\": \"2016-10-25\",\n        \"Time\": \"7:00:00\",\n        \"Average\": 0.38407372\n      }, {\n        \"Day\": \"2016-10-25\",\n        \"Time\": \"8:00:00\",\n        \"Average\": 0.990159471\n      }, {\n        \"Day\": \"2016-10-25\",\n        \"Time\": \"9:00:00\",\n        \"Average\": 0.951533012\n      }, {\n        \"Day\": \"2016-10-25\",\n        \"Time\": \"10:00:00\",\n        \"Average\": 0.807654436\n      }, {\n        \"Day\": \"2016-10-25\",\n        \"Time\": \"11:00:00\",\n        \"Average\": 0.275606308\n      }, {\n        \"Day\": \"2016-10-25\",\n        \"Time\": \"12:00:00\",\n        \"Average\": 0.54954288\n      }, {\n        \"Day\": \"2016-10-25\",\n        \"Time\": \"13:00:00\",\n        \"Average\": -0.140555408\n      }, {\n        \"Day\": \"2016-10-25\",\n        \"Time\": \"14:00:00\",\n        \"Average\": 0.379065392\n      }, {\n        \"Day\": \"2016-10-25\",\n        \"Time\": \"15:00:00\",\n        \"Average\": -0.592452679\n      }, {\n        \"Day\": \"2016-10-25\",\n        \"Time\": \"16:00:00\",\n        \"Average\": 0.721017485\n      }, {\n        \"Day\": \"2016-10-25\",\n        \"Time\": \"17:00:00\",\n        \"Average\": -0.120732899\n      }, {\n        \"Day\": \"2016-10-25\",\n        \"Time\": \"18:00:00\",\n        \"Average\": 0.375226216\n      }, {\n        \"Day\": \"2016-10-25\",\n        \"Time\": \"19:00:00\",\n        \"Average\": 0.43537517\n      }, {\n        \"Day\": \"2016-10-25\",\n        \"Time\": \"20:00:00\",\n        \"Average\": 0.978913563\n      }, {\n        \"Day\": \"2016-10-25\",\n        \"Time\": \"21:00:00\",\n        \"Average\": 0.999487121\n      }, {\n        \"Day\": \"2016-10-25\",\n        \"Time\": \"22:00:00\",\n        \"Average\": 0.998796699\n      }, {\n        \"Day\": \"2016-10-25\",\n        \"Time\": \"23:00:00\",\n        \"Average\": 0.999035806\n      }, {\n        \"Day\": \"2016-10-26\",\n        \"Time\": \"0:00:00\",\n        \"Average\": 0.999002226\n      }, {\n        \"Day\": \"2016-10-26\",\n        \"Time\": \"1:00:00\",\n        \"Average\": 0.998962362\n      }, {\n        \"Day\": \"2016-10-26\",\n        \"Time\": \"2:00:00\",\n        \"Average\": 0.999508864\n      }, {\n        \"Day\": \"2016-10-26\",\n        \"Time\": \"3:00:00\",\n        \"Average\": 0.999430909\n      }, {\n        \"Day\": \"2016-10-26\",\n        \"Time\": \"4:00:00\",\n        \"Average\": 0.872319823\n      }, {\n        \"Day\": \"2016-10-26\",\n        \"Time\": \"5:00:00\",\n        \"Average\": -0.500098865\n      }, {\n        \"Day\": \"2016-10-26\",\n        \"Time\": \"6:00:00\",\n        \"Average\": 0.884718182\n      }, {\n        \"Day\": \"2016-10-26\",\n        \"Time\": \"7:00:00\",\n        \"Average\": 0.187257841\n      }, {\n        \"Day\": \"2016-10-26\",\n        \"Time\": \"8:00:00\",\n        \"Average\": 0.748722821\n      }, {\n        \"Day\": \"2016-10-26\",\n        \"Time\": \"9:00:00\",\n        \"Average\": -0.314047537\n      }, {\n        \"Day\": \"2016-10-26\",\n        \"Time\": \"10:00:00\",\n        \"Average\": 0.38328468\n      }, {\n        \"Day\": \"2016-10-26\",\n        \"Time\": \"11:00:00\",\n        \"Average\": 0.338633768\n      }, {\n        \"Day\": \"2016-10-26\",\n        \"Time\": \"12:00:00\",\n        \"Average\": 0.742048733\n      }, {\n        \"Day\": \"2016-10-26\",\n        \"Time\": \"13:00:00\",\n        \"Average\": 0.914171247\n      }, {\n        \"Day\": \"2016-10-26\",\n        \"Time\": \"14:00:00\",\n        \"Average\": 0.945862628\n      }, {\n        \"Day\": \"2016-10-26\",\n        \"Time\": \"15:00:00\",\n        \"Average\": 0.338013086\n      }, {\n        \"Day\": \"2016-10-26\",\n        \"Time\": \"16:00:00\",\n        \"Average\": 0.149687275\n      }, {\n        \"Day\": \"2016-10-26\",\n        \"Time\": \"17:00:00\",\n        \"Average\": 0.352206289\n      }, {\n        \"Day\": \"2016-10-26\",\n        \"Time\": \"18:00:00\",\n        \"Average\": 0.341103795\n      }, {\n        \"Day\": \"2016-10-26\",\n        \"Time\": \"19:00:00\",\n        \"Average\": 0.466675985\n      }, {\n        \"Day\": \"2016-10-26\",\n        \"Time\": \"20:00:00\",\n        \"Average\": 0.669826054\n      }, {\n        \"Day\": \"2016-10-26\",\n        \"Time\": \"21:00:00\",\n        \"Average\": 0.99943469\n      }, {\n        \"Day\": \"2016-10-26\",\n        \"Time\": \"22:00:00\",\n        \"Average\": 0.999406276\n      }, {\n        \"Day\": \"2016-10-26\",\n        \"Time\": \"23:00:00\",\n        \"Average\": 0.999106811\n      }, {\n        \"Day\": \"2016-10-27\",\n        \"Time\": \"0:00:00\",\n        \"Average\": 0.999241057\n      }, {\n        \"Day\": \"2016-10-27\",\n        \"Time\": \"1:00:00\",\n        \"Average\": 0.999192176\n      }, {\n        \"Day\": \"2016-10-27\",\n        \"Time\": \"2:00:00\",\n        \"Average\": 0.999320245\n      }, {\n        \"Day\": \"2016-10-27\",\n        \"Time\": \"3:00:00\",\n        \"Average\": 0.999419671\n      }, {\n        \"Day\": \"2016-10-27\",\n        \"Time\": \"4:00:00\",\n        \"Average\": 0.897699972\n      }, {\n        \"Day\": \"2016-10-27\",\n        \"Time\": \"5:00:00\",\n        \"Average\": 0.840491494\n      }, {\n        \"Day\": \"2016-10-27\",\n        \"Time\": \"6:00:00\",\n        \"Average\": 0.859329098\n      }, {\n        \"Day\": \"2016-10-27\",\n        \"Time\": \"7:00:00\",\n        \"Average\": 0.90962599\n      }, {\n        \"Day\": \"2016-10-27\",\n        \"Time\": \"8:00:00\",\n        \"Average\": 0.930740485\n      }, {\n        \"Day\": \"2016-10-27\",\n        \"Time\": \"9:00:00\",\n        \"Average\": 0.719432854\n      }, {\n        \"Day\": \"2016-10-27\",\n        \"Time\": \"10:00:00\",\n        \"Average\": -0.281915894\n      }, {\n        \"Day\": \"2016-10-27\",\n        \"Time\": \"11:00:00\",\n        \"Average\": -0.045717954\n      }, {\n        \"Day\": \"2016-10-27\",\n        \"Time\": \"12:00:00\",\n        \"Average\": -0.040819929\n      }, {\n        \"Day\": \"2016-10-27\",\n        \"Time\": \"13:00:00\",\n        \"Average\": 0.767412491\n      }, {\n        \"Day\": \"2016-10-27\",\n        \"Time\": \"14:00:00\",\n        \"Average\": 0.56852041\n      }, {\n        \"Day\": \"2016-10-27\",\n        \"Time\": \"15:00:00\",\n        \"Average\": 0.87944526\n      }, {\n        \"Day\": \"2016-10-27\",\n        \"Time\": \"16:00:00\",\n        \"Average\": 0.635073303\n      }, {\n        \"Day\": \"2016-10-27\",\n        \"Time\": \"17:00:00\",\n        \"Average\": 0.159631593\n      }, {\n        \"Day\": \"2016-10-27\",\n        \"Time\": \"18:00:00\",\n        \"Average\": -0.36532701\n      }, {\n        \"Day\": \"2016-10-27\",\n        \"Time\": \"19:00:00\",\n        \"Average\": 0.902577964\n      }, {\n        \"Day\": \"2016-10-27\",\n        \"Time\": \"20:00:00\",\n        \"Average\": 0.892289366\n      }, {\n        \"Day\": \"2016-10-27\",\n        \"Time\": \"21:00:00\",\n        \"Average\": 0.998451361\n      }, {\n        \"Day\": \"2016-10-27\",\n        \"Time\": \"22:00:00\",\n        \"Average\": 0.999516821\n      }, {\n        \"Day\": \"2016-10-27\",\n        \"Time\": \"23:00:00\",\n        \"Average\": 0.999223124\n      }, {\n        \"Day\": \"2016-10-28\",\n        \"Time\": \"0:00:00\",\n        \"Average\": 0.999196202\n      }, {\n        \"Day\": \"2016-10-28\",\n        \"Time\": \"1:00:00\",\n        \"Average\": 0.99943517\n      }, {\n        \"Day\": \"2016-10-28\",\n        \"Time\": \"2:00:00\",\n        \"Average\": 0.998540252\n      }, {\n        \"Day\": \"2016-10-28\",\n        \"Time\": \"3:00:00\",\n        \"Average\": 0.999532268\n      }, {\n        \"Day\": \"2016-10-28\",\n        \"Time\": \"4:00:00\",\n        \"Average\": 0.999371504\n      }, {\n        \"Day\": \"2016-10-28\",\n        \"Time\": \"5:00:00\",\n        \"Average\": 0.845982571\n      }, {\n        \"Day\": \"2016-10-28\",\n        \"Time\": \"6:00:00\",\n        \"Average\": 0.855708622\n      }, {\n        \"Day\": \"2016-10-28\",\n        \"Time\": \"7:00:00\",\n        \"Average\": 0.427117949\n      }, {\n        \"Day\": \"2016-10-28\",\n        \"Time\": \"8:00:00\",\n        \"Average\": 0.947572789\n      }, {\n        \"Day\": \"2016-10-28\",\n        \"Time\": \"9:00:00\",\n        \"Average\": 0.710845328\n      }, {\n        \"Day\": \"2016-10-28\",\n        \"Time\": \"10:00:00\",\n        \"Average\": 0.979177891\n      }, {\n        \"Day\": \"2016-10-28\",\n        \"Time\": \"11:00:00\",\n        \"Average\": 0.767125493\n      }, {\n        \"Day\": \"2016-10-28\",\n        \"Time\": \"12:00:00\",\n        \"Average\": 0.22070972\n      }, {\n        \"Day\": \"2016-10-28\",\n        \"Time\": \"13:00:00\",\n        \"Average\": 0.955964611\n      }, {\n        \"Day\": \"2016-10-28\",\n        \"Time\": \"14:00:00\",\n        \"Average\": 0.437379032\n      }, {\n        \"Day\": \"2016-10-28\",\n        \"Time\": \"15:00:00\",\n        \"Average\": 0.572119279\n      }, {\n        \"Day\": \"2016-10-28\",\n        \"Time\": \"16:00:00\",\n        \"Average\": 0.023635303\n      }, {\n        \"Day\": \"2016-10-28\",\n        \"Time\": \"17:00:00\",\n        \"Average\": 0.77801158\n      }, {\n        \"Day\": \"2016-10-28\",\n        \"Time\": \"18:00:00\",\n        \"Average\": 0.026233949\n      }, {\n        \"Day\": \"2016-10-28\",\n        \"Time\": \"19:00:00\",\n        \"Average\": 0.893743871\n      }, {\n        \"Day\": \"2016-10-28\",\n        \"Time\": \"20:00:00\",\n        \"Average\": 0.931683898\n      }, {\n        \"Day\": \"2016-10-28\",\n        \"Time\": \"21:00:00\",\n        \"Average\": 0.995607403\n      }, {\n        \"Day\": \"2016-10-28\",\n        \"Time\": \"22:00:00\",\n        \"Average\": 0.999411436\n      }, {\n        \"Day\": \"2016-10-28\",\n        \"Time\": \"23:00:00\",\n        \"Average\": 0.999244343\n      }, {\n        \"Day\": \"2016-10-29\",\n        \"Time\": \"0:00:00\",\n        \"Average\": 0.999144193\n      }, {\n        \"Day\": \"2016-10-29\",\n        \"Time\": \"1:00:00\",\n        \"Average\": 0.999175064\n      }, {\n        \"Day\": \"2016-10-29\",\n        \"Time\": \"2:00:00\",\n        \"Average\": 0.999358134\n      }, {\n        \"Day\": \"2016-10-29\",\n        \"Time\": \"3:00:00\",\n        \"Average\": 0.999324622\n      }, {\n        \"Day\": \"2016-10-29\",\n        \"Time\": \"4:00:00\",\n        \"Average\": 0.999183361\n      }, {\n        \"Day\": \"2016-10-29\",\n        \"Time\": \"5:00:00\",\n        \"Average\": 0.997701265\n      }, {\n        \"Day\": \"2016-10-29\",\n        \"Time\": \"6:00:00\",\n        \"Average\": 0.193188314\n      }, {\n        \"Day\": \"2016-10-29\",\n        \"Time\": \"7:00:00\",\n        \"Average\": 0.362023129\n      }, {\n        \"Day\": \"2016-10-29\",\n        \"Time\": \"8:00:00\",\n        \"Average\": 0.710273557\n      }, {\n        \"Day\": \"2016-10-29\",\n        \"Time\": \"9:00:00\",\n        \"Average\": 0.218587407\n      }, {\n        \"Day\": \"2016-10-29\",\n        \"Time\": \"10:00:00\",\n        \"Average\": 0.254116699\n      }, {\n        \"Day\": \"2016-10-29\",\n        \"Time\": \"11:00:00\",\n        \"Average\": 0.360555619\n      }, {\n        \"Day\": \"2016-10-29\",\n        \"Time\": \"12:00:00\",\n        \"Average\": 0.82039974\n      }, {\n        \"Day\": \"2016-10-29\",\n        \"Time\": \"13:00:00\",\n        \"Average\": 0.709718351\n      }, {\n        \"Day\": \"2016-10-29\",\n        \"Time\": \"14:00:00\",\n        \"Average\": 0.329563071\n      }, {\n        \"Day\": \"2016-10-29\",\n        \"Time\": \"15:00:00\",\n        \"Average\": 0.324728648\n      }, {\n        \"Day\": \"2016-10-29\",\n        \"Time\": \"16:00:00\",\n        \"Average\": 0.104471717\n      }, {\n        \"Day\": \"2016-10-29\",\n        \"Time\": \"17:00:00\",\n        \"Average\": -0.225612728\n      }, {\n        \"Day\": \"2016-10-29\",\n        \"Time\": \"18:00:00\",\n        \"Average\": -0.254633332\n      }, {\n        \"Day\": \"2016-10-29\",\n        \"Time\": \"19:00:00\",\n        \"Average\": 0.691683787\n      }, {\n        \"Day\": \"2016-10-29\",\n        \"Time\": \"20:00:00\",\n        \"Average\": 0.856442446\n      }, {\n        \"Day\": \"2016-10-29\",\n        \"Time\": \"21:00:00\",\n        \"Average\": 0.657394008\n      }, {\n        \"Day\": \"2016-10-29\",\n        \"Time\": \"22:00:00\",\n        \"Average\": 0.999113376\n      }, {\n        \"Day\": \"2016-10-29\",\n        \"Time\": \"23:00:00\",\n        \"Average\": 0.999317588\n      }, {\n        \"Day\": \"2016-10-30\",\n        \"Time\": \"0:00:00\",\n        \"Average\": 0.999054977\n      }, {\n        \"Day\": \"2016-10-30\",\n        \"Time\": \"1:00:00\",\n        \"Average\": 0.999005736\n      }, {\n        \"Day\": \"2016-10-30\",\n        \"Time\": \"2:00:00\",\n        \"Average\": 0.999268194\n      }, {\n        \"Day\": \"2016-10-30\",\n        \"Time\": \"3:00:00\",\n        \"Average\": 0.999477157\n      }, {\n        \"Day\": \"2016-10-30\",\n        \"Time\": \"4:00:00\",\n        \"Average\": 0.999500666\n      }, {\n        \"Day\": \"2016-10-30\",\n        \"Time\": \"5:00:00\",\n        \"Average\": 0.841335892\n      }, {\n        \"Day\": \"2016-10-30\",\n        \"Time\": \"6:00:00\",\n        \"Average\": 0.849157868\n      }, {\n        \"Day\": \"2016-10-30\",\n        \"Time\": \"7:00:00\",\n        \"Average\": 0.903315232\n      }, {\n        \"Day\": \"2016-10-30\",\n        \"Time\": \"8:00:00\",\n        \"Average\": 0.628510543\n      }, {\n        \"Day\": \"2016-10-30\",\n        \"Time\": \"9:00:00\",\n        \"Average\": 0.692835887\n      }, {\n        \"Day\": \"2016-10-30\",\n        \"Time\": \"10:00:00\",\n        \"Average\": 0.879148233\n      }, {\n        \"Day\": \"2016-10-30\",\n        \"Time\": \"11:00:00\",\n        \"Average\": 0.656550851\n      }, {\n        \"Day\": \"2016-10-30\",\n        \"Time\": \"12:00:00\",\n        \"Average\": 0.666586143\n      }, {\n        \"Day\": \"2016-10-30\",\n        \"Time\": \"13:00:00\",\n        \"Average\": 0.871021005\n      }, {\n        \"Day\": \"2016-10-30\",\n        \"Time\": \"14:00:00\",\n        \"Average\": 0.810344826\n      }, {\n        \"Day\": \"2016-10-30\",\n        \"Time\": \"15:00:00\",\n        \"Average\": 0.895859232\n      }, {\n        \"Day\": \"2016-10-30\",\n        \"Time\": \"16:00:00\",\n        \"Average\": -0.442800707\n      }, {\n        \"Day\": \"2016-10-30\",\n        \"Time\": \"17:00:00\",\n        \"Average\": 0.276780281\n      }, {\n        \"Day\": \"2016-10-30\",\n        \"Time\": \"18:00:00\",\n        \"Average\": 0.711015244\n      }, {\n        \"Day\": \"2016-10-30\",\n        \"Time\": \"19:00:00\",\n        \"Average\": 0.8673588\n      }, {\n        \"Day\": \"2016-10-30\",\n        \"Time\": \"20:00:00\",\n        \"Average\": 0.35743309\n      }, {\n        \"Day\": \"2016-10-30\",\n        \"Time\": \"21:00:00\",\n        \"Average\": 0.842565318\n      }, {\n        \"Day\": \"2016-10-30\",\n        \"Time\": \"22:00:00\",\n        \"Average\": 0.992020246\n      }, {\n        \"Day\": \"2016-10-30\",\n        \"Time\": \"23:00:00\",\n        \"Average\": 0.999205778\n      }];\n      var radial_labels = ['2016-10-22', '2016-10-23', '2016-10-24', '2016-10-25', '2016-10-26', '2016-10-27', '2016-10-28', '2016-10-29', '2016-10-30'];\n      var segment_labels = ['0:00', '1:00', '2:00', '3:00', '4:00', '5:00', '6:00', '7:00', '8:00', '9:00', '10:00', '11:00', '12:00', '13:00', '14:00', '15:00', '16:00', '17:00', '18:00', '19:00', '20:00', '21:00', '22:00', '23:00'];\n      this.loadCircularHeatMap(data, \"#chart\", radial_labels, segment_labels);\n    }\n\n    loadCircularHeatMap(dataset, dom_element_to_append_to, radial_labels, segment_labels) {\n      var margin = {\n        top: 50,\n        right: 50,\n        bottom: 50,\n        left: 50\n      };\n      var width = 1000 - margin.left - margin.right;\n      var curr;\n      var height = width;\n      var innerRadius = 100; // width/14;\n\n      var segmentHeight = (width - margin.top - margin.bottom - 2 * innerRadius) / (2 * radial_labels.length);\n      var chart = this.circularHeatChart().innerRadius(innerRadius).segmentHeight(segmentHeight).domain([0, 0.5, 1]).range([\"#ffffd9\", \"#7fcdbb\", \"#225ea8\"]).radialLabels(radial_labels).segmentLabels(segment_labels);\n      chart.accessor(function (d) {\n        return d.Average;\n      });\n      var svg = d3.select(dom_element_to_append_to).selectAll('svg').data([dataset]).enter().append('svg').attr(\"width\", width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom).append('g').attr(\"transform\", \"translate(\" + (width / 2 - (radial_labels.length * segmentHeight + innerRadius)) + \",\" + margin.top + \")\").call(chart);\n      var tooltip = d3.select(dom_element_to_append_to).append('div').attr('class', 'tooltip');\n      tooltip.append('div').attr('class', 'time');\n      tooltip.append('div').attr('class', 'average');\n      tooltip.append('div').attr('class', 'day');\n\n      function cx() {\n        var e = window.event;\n        return e.clientX;\n      }\n\n      function cy() {\n        var e = window.event;\n        return e.clientY;\n      }\n\n      svg.selectAll(\"path\").on('mouseover', function (d) {\n        curr = d.explicitOriginalTarget.__data__; // increase the segment height of the one being hovered as well as all others of the same date\n        // while decreasing the height of all others accordingly\n        //console.log(d)\n\n        d3.selectAll(\"#segment-\" + curr.Day + '-' + curr.Time.replaceAll(':', '-')).attr(\"fill\", function (p) {\n          return \"white\";\n        });\n        tooltip.select('.time').html(\"<b> Time: \" + d.explicitOriginalTarget.__data__.Time + \"</b>\");\n        tooltip.select('.day').html(\"<b> Date: \" + d.explicitOriginalTarget.__data__.Day + \"</b>\");\n        tooltip.select('.average').html(\"<b> Value: \" + d.explicitOriginalTarget.__data__.Average + \"</b>\");\n        tooltip.style('display', 'block');\n        tooltip.style('opacity', 2);\n      }).on('mousemove', function (d, event) {\n        tooltip.style('top', cy() + 10 + 'px').style('left', cx() - 25 + 'px');\n      }).on('mouseout', function (d) {\n        //console.log(d.explicitOriginalTarget.__data__.Day)\n        tooltip.style('display', 'none');\n        tooltip.style('opacity', 0); //  var time = d.Time;\n        //  var timeCleaned = time.split(\":\").join(\"-\");\n        //  var segment = d3.select(\"#segment-\"+d.Day +\"-\"+timeCleaned); //designate selector variable for brevity\n        //  var fillcolor = segment.select(\"desc\").text();  //access original color from desc\n        //  segment.style(\"fill\", fillcolor);\n\n        d3.selectAll(\"#segment-\" + curr.Day + '-' + curr.Time.replaceAll(':', '-')).attr(\"fill\", function (p) {\n          return d.target.textContent;\n        });\n      }).append(\"desc\") //append the current color as a desc element\n      .text(function (d) {\n        var color = d3.scaleLinear().domain([0, 0.5, 1]).range([\"#ffffd9\", \"#7fcdbb\", \"#225ea8\"]); // how to access a function within reusable charts\n\n        console.log(color(d.Average));\n        return color(d.Average);\n      });\n    }\n\n    circularHeatChart() {\n      var margin = {\n        top: 20,\n        right: 50,\n        bottom: 50,\n        left: 20\n      },\n          innerRadius = 20,\n          numSegments = 24,\n          segmentHeight = 20,\n          domain = null,\n          range = [\"white\", \"red\"],\n          accessor = function (d) {\n        return d;\n      };\n\n      var radialLabels = [];\n      var segmentLabels = [];\n\n      function chart(selection) {\n        selection.each(function (data) {\n          var svg = d3.select(this);\n          var offset = innerRadius + Math.ceil(data.length / numSegments) * segmentHeight;\n          var g = svg.append(\"g\").classed(\"circular-heat\", true).attr(\"transform\", \"translate(\" + (margin.left + offset) + \",\" + (margin.top + offset) + \")\");\n          var autoDomain = false;\n\n          if (domain === null) {\n            domain = d3.extent(data, accessor);\n            autoDomain = true;\n          }\n\n          var color = d3.scaleLinear().domain(domain).range(range);\n          if (autoDomain) domain = null;\n          g.selectAll(\"path\").data(data).enter().append(\"path\") // .attr(\"class\",\"segment\")\n          .attr(\"class\", function (d) {\n            return \"segment-\" + d.Day;\n          }).attr(\"id\", function (d) {\n            var time = d.Time;\n            var timeCleaned = time.split(\":\").join(\"-\");\n            return \"segment-\" + d.Day + \"-\" + timeCleaned;\n          }).attr(\"d\", d3.arc().innerRadius(ir).outerRadius(or).startAngle(sa).endAngle(ea)).attr(\"stroke\", function (d) {\n            return '#252525';\n          }).attr(\"fill\", function (d) {\n            return color(accessor(d));\n          }); // Unique id so that the text path defs are unique - is there a better way to do this?\n          // console.log(d3.selectAll(\".circular-heat\")[\"_groups\"][0].length)\n\n          var id = 1; //Segment labels\n\n          var segmentLabelOffset = 5;\n          var r = innerRadius + Math.ceil(data.length / numSegments) * segmentHeight + segmentLabelOffset;\n          var labels = svg.append(\"g\").classed(\"labels\", true).classed(\"segment\", true).attr(\"transform\", \"translate(\" + (margin.left + offset) + \",\" + (margin.top + offset) + \")\");\n          labels.append(\"def\").append(\"path\").attr(\"id\", \"segment-label-path-\" + id).attr(\"d\", \"m0 -\" + r + \" a\" + r + \" \" + r + \" 0 1 1 -1 0\");\n          labels.selectAll(\"text\").data(segmentLabels).enter().append(\"text\").append(\"textPath\").attr(\"xlink:href\", \"#segment-label-path-\" + id).style(\"font-size\", \"12px\").attr(\"startOffset\", function (d, i) {\n            return i * 100 / numSegments + 1.5 + \"%\";\n          }).text(function (d) {\n            return d;\n          });\n        });\n      }\n      /* Arc functions */\n\n\n      var ir = function (d, i) {\n        return innerRadius + Math.floor(i / numSegments) * segmentHeight;\n      };\n\n      var or = function (d, i) {\n        return innerRadius + segmentHeight + Math.floor(i / numSegments) * segmentHeight;\n      };\n\n      var sa = function (d, i) {\n        return i * 2 * Math.PI / numSegments;\n      };\n\n      var ea = function (d, i) {\n        return (i + 1) * 2 * Math.PI / numSegments;\n      };\n      /* Configuration getters/setters */\n\n\n      chart.margin = function (_) {\n        //if (!arguments.length) return margin;\n        margin = _;\n        return chart;\n      };\n\n      chart.innerRadius = function (_) {\n        // if (!arguments.length) return innerRadius;\n        innerRadius = _;\n        return chart;\n      };\n\n      chart.numSegments = function (_) {\n        //if (!arguments.length) return numSegments;\n        numSegments = _;\n        return chart;\n      };\n\n      chart.segmentHeight = function (_) {\n        // if (!arguments.length) return segmentHeight;\n        segmentHeight = _;\n        return chart;\n      };\n\n      chart.domain = function (_) {\n        //if (!arguments.length) return domain;\n        domain = _;\n        return chart;\n      };\n\n      chart.range = function (_) {\n        // if (!arguments.length) return range;\n        range = _;\n        return chart;\n      };\n\n      chart.radialLabels = function (_) {\n        // if (!arguments.length) return radialLabels;\n        if (_ == null) _ = [];\n        radialLabels = _;\n        return chart;\n      };\n\n      chart.segmentLabels = function (_) {\n        // if (!arguments.length) return segmentLabels;\n        if (_ == null) _ = [];\n        segmentLabels = _;\n        return chart;\n      };\n\n      chart.accessor = function (_) {\n        if (!arguments.length) return accessor;\n        accessor = _;\n        return chart;\n      };\n\n      return chart;\n    }\n\n  }\n\n  CircularHeatmapComponent.ɵfac = function CircularHeatmapComponent_Factory(t) {\n    return new (t || CircularHeatmapComponent)();\n  };\n\n  CircularHeatmapComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CircularHeatmapComponent,\n    selectors: [[\"app-circular-heatmap\"]],\n    decls: 6,\n    vars: 0,\n    consts: [[\"id\", \"cont\", 1, \"container-fluid\", \"text-center\"], [1, \"row\"], [1, \"col-md-3\"], [1, \"col-md-6\"], [\"id\", \"chart\"]],\n    template: function CircularHeatmapComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n        i0.ɵɵelement(2, \"div\", 2);\n        i0.ɵɵelementStart(3, \"div\", 3);\n        i0.ɵɵelement(4, \"div\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(5, \"div\", 2);\n        i0.ɵɵelementEnd()();\n      }\n    },\n    styles: [\".margin30[_ngcontent-%COMP%]{margin-bottom:30px}.axis[_ngcontent-%COMP%]   path[_ngcontent-%COMP%], .axis[_ngcontent-%COMP%]   line[_ngcontent-%COMP%]{fill:none;stroke:#000;shape-rendering:crispEdges}.tooltip[_ngcontent-%COMP%]{background:#eee;box-shadow:0 0 5px #999;color:#333;font-size:12px;left:130px;padding:10px;position:absolute;text-align:center;top:95px;z-index:10;display:block;opacity:0}\"]\n  });\n  return CircularHeatmapComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}